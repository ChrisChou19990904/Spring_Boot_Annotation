<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spring Data JPA 說明</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    h1, h2 {
      color: #2c3e50;
    }
    p {
      margin-bottom: 1em;
    }
    code {
      background-color: #f4f4f4;
      padding: 2px 4px;
      border-radius: 4px;
    }
    pre {
      background-color: #f4f4f4;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
    }
    ul {
      margin-left: 20px;
    }
    a{
        color: #2980b9;
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
    a:visited {
        color: #2980b9;
    }
    nav{
        background-color: pink;
    }
    #social-share a {
        text-decoration: none;
        font-weight: bold;
    }
    #social-share a:hover {
        text-decoration: underline;
    }
    #social-share span {
        margin: 0 5px;
    }
    #social-share a#fb-share {
        color: #4267B2;
    }
    #social-share a#line-share {
        color: #00C300;
    }
    #social-share a#twitter-share {
        color: #1DA1F2;
    }
    @media screen and (max-width: 767px) {
      img{
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
<div id="google-translate-box">
  <div id="google_translate_element"></div>
  <!-- Google Translate 的自動翻譯功能 -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'zh-TW',  // 頁面原語言
        includedLanguages: 'en,es,fr,de,it,zh-CN,ja,ko,th,vi,my,id,ms,ar,he,ru,tg,uk,hi,tr,pt,nl,is,fi,sv,no,ro,kk,bo,mn,la,fil,tl,el',  // 支援的翻譯語言（可擴展）
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <p>點擊上方的語言選單以切換語言</p>
</div>
<nav>
    <h2>本專案的其他內容</h2>
    <ol>
        <li><a href="index.html" target="_blank">Spring Boot 常用註解速查表</a></li>
        <li><a href="link_sharing.html" target="_blank">社群平台連結追蹤與隱私完整解析</a></li>
        <li><a href="html_vs_vue.html" target="_blank">HTML 與 Vue 的結構差異說明（含四種架構示意圖）</a></li>
        <li><a href="vue_vs_multiple_html.html" target="_blank">Vue 與多頁 HTML 架構的差異與對應</a></li>
        <li><a href="how_to_connect_spring_boot_to_vue3.html" target="_blank">Spring Boot 後端串接 Vue3 前端完整教學（含 Supabase PostgreSQL）</a></li>
        <li><a href="deployment_and_anchor_navigation.html" target="_blank">Vue3 與純 HTML 在部署與錨點導航上的差異</a></li>
        <li><a href="Vue_DevTools.html" target="_blank">Vue DevTools 深度解析與開發痛點解決</a></li>
        <li><a href="entity_and_dto.html" target="_blank">Spring Boot 教學：Entity、DTO、RequestDTO、ResponseDTO 與資料流</a></li>
        <li><a href="HTTP_ERROR.html" target="_blank">本地全端開發 HTTP 錯誤說明</a></li>
        <li><a href="About_Test.html" target="_blank">軟體品質與測試規範說明</a></li>
        <li><a href="Full_Stack_Architecture_Guide.html" target="_blank">全端部署架構與技術演進全紀錄 - 外語書商城</a></li>
        <li><a href="Two_Steps_Of_Learning_How_To_Code.html" target="_blank">學程式的二個階段與輸入工具的角色</a></li>
        <li><a href="misunderstanding_of_learning_how_to_code.html" target="_blank">學程式的階段、誤導與正確使用 AI 的方式</a></li>
        <li><a href="RFC_3986_URL.html" target="_blank">RFC 3986 URL 編碼規範完整說明</a></li>
        <li><a href="html-whitespace-collapsing-explanation.html" target="_blank">HTML 空白折疊與自動換行說明文件</a></li>
        <li><a href="windows-screen-recording-issue.html" target="_blank">Windows 內建螢幕錄影與下拉選單說明</a></li>
        <li><a href="crypto_notes.html" target="_blank">密碼學口試重點筆記</a></li>
        <li><a href="Difference_Among_Docker_Frontend_Deployment_And_Backend_Deployment.html" target="_blank">Docker、前端與後端部署完整說明文件</a></li>
        <li><a href="PostgreSQL_vs_H2.html" target="_blank">PostgreSQL vs H2 技術比較文件</a></li>
    </ol>
</nav>
<h1>Spring Boot 中的 JpaRepository 簡介</h1>

<p>在 <strong>Spring Boot</strong> 中，透過 <code>JpaRepository</code> 這樣的接口，可以大大簡化資料庫操作的程式碼。這背後的原理是 <strong>Spring Data JPA</strong> 提供了大量的自動生成查詢方法，讓開發者不需要手動撰寫 SQL 或是 JPQL 來執行常見的資料庫操作。</p>

<h2>原理解析</h2>

<h3>1. <code>JpaRepository</code> 的自動實現</h3>
<p><code>JpaRepository</code> 是 <strong>Spring Data JPA</strong> 提供的介面，它繼承自 <code>CrudRepository</code> 和 <code>PagingAndSortingRepository</code>，提供了許多對實體進行 CRUD 操作（如 <code>save()</code>, <code>findById()</code>, <code>delete()</code> 等）的方法。Spring Data JPA 利用 JDK 的動態代理技術，會自動生成這些方法的實作，所以你不需要手動寫這些方法的實現。</p>

<h3>2. 自動生成查詢</h3>
<p>在 <code>StudentRepository</code> 這個範例中：</p>
<ul>
  <li><code>findByEmail(String email)</code>：Spring Data JPA 會自動根據方法名推斷出需要執行的 SQL 查詢，這相當於執行 <code>SELECT * FROM student WHERE email = ?</code>。</li>
  <li><code>findByFirstNameContaining(String name)</code>：這個方法會生成一個查詢，查找學生的 <code>first_name</code> 中包含指定字串的記錄，實際的 SQL 查詢是類似 <code>SELECT * FROM student WHERE first_name LIKE %?%</code>。</li>
</ul>

<p>Spring Data JPA 根據方法名的命名規則自動生成對應的 SQL 查詢，這樣開發者就不需要手動寫 SQL 或 JPQL 查詢語句了。</p>

<h3>3. 自動注入的 Repository</h3>
<p>在 <strong>Spring Boot</strong> 中，<code>StudentRepository</code> 會被自動註冊為 Spring 的 Bean，並且通過 <code>@Autowired</code> 或是構造函數注入的方式，將其注入到對應的 service 層中。這樣，當你在 service 層中呼叫 <code>studentRepository.findByEmail("test@example.com")</code> 時，Spring Data JPA 會自動處理資料庫查詢的部分。</p>

<h3>4. 省去的繁瑣步驟</h3>
<ul>
  <li>不需要手動編寫 SQL 查詢。</li>
  <li>不需要處理資料庫連接、關閉連接等細節，這些都由 Spring Data JPA 自動管理。</li>
  <li>不需要處理常見的 CRUD 操作，只要定義好接口方法即可。</li>
</ul>

<h2>範例操作流程</h2>

<h3>1. <code>Repository</code> 定義</h3>
<p>你在 <code>StudentRepository</code> 中定義了查詢方法（例如 <code>findByEmail</code> 和 <code>findByFirstNameContaining</code>），這些方法會被自動解析成 SQL 查詢語句。</p>

<h3>2. <code>Service</code> 層調用</h3>
<p>在 <code>Service</code> 層，通過注入 <code>StudentRepository</code>，你可以直接調用這些方法來獲取資料，而不需要編寫額外的資料庫查詢代碼。例如：</p>

<pre>
<code>
@Service
public class StudentService {

    @Autowired
    private StudentRepository studentRepository;

    public Student getStudentByEmail(String email) {
        return studentRepository.findByEmail(email);
    }

    public List<Student> searchStudentsByName(String name) {
        return studentRepository.findByFirstNameContaining(name);
    }
}
</code>
</pre>

<h3>3. Spring 自動化處理</h3>
<p>Spring Boot 會根據 <code>findByEmail</code> 和 <code>findByFirstNameContaining</code> 方法名自動生成對應的查詢語句，並處理資料庫交互的部分。你只需要關注業務邏輯，而不需要處理低層次的 SQL 操作。</p>

<h2>小結</h2>
<p><strong>Spring Data JPA</strong> 的核心是通過約定優於配置（convention over configuration）的方式，簡化了資料庫操作。只要定義好接口方法名稱，Spring Data JPA 就能自動推導出相應的查詢邏輯，這樣你就不需要手動編寫繁瑣的 SQL 或 JPA 查詢語句。這樣不僅提升開發效率，還減少了錯誤的發生機率。</p>
<ul id="messages"></ul>
<div id="social-share" style="margin-top: 20px;">
    <a id="fb-share" href="#" target="_blank" style="color: #4267B2; font-weight: bold;">分享到 Facebook</a>
    <span> | </span>
    <a id="line-share" href="#" target="_blank" style="color: #00C300; font-weight: bold;">分享到 Line</a>
    <span> | </span>
    <a id="twitter-share" href="#" target="_blank" style="color: #1DA1F2; font-weight: bold;">分享到 X</a>
</div>
<script>
    // 自動抓取當前頁面的 URL
    var currentUrl = window.location.href;
    // Facebook 分享
    document.getElementById("fb-share").href =
        "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(currentUrl);
    // Line 分享
    document.getElementById("line-share").href =
        "https://social-plugins.line.me/lineit/share?url=" + encodeURIComponent(currentUrl);
    // X (Twitter) 分享
    document.getElementById("twitter-share").href =
        "https://twitter.com/intent/tweet?url=" + encodeURIComponent(currentUrl) + "&text=你的文章標題";
</script>
<footer style="text-align: center; background-color: purple; color:yellow; font-size: 50px">
  作者：<a href="https://www.facebook.com/profile.php?id=100056441813114&locale=zh_TW" target="_blank" style="color:white;">周彥廷</a>
  <br>創作日期：西元二零二五年八月二十一日<br>
  <img width="324" height="432" src="my_appearance2.jpg" alt="自拍">
  <br>
</footer>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v17.0" nonce="yourNonce">
</script>

<div class="fb-comments"
     data-href="https://chrischou19990904.github.io/harp_app_introduction"
     data-width="100%"
     data-numposts="5">
</div>

</body>
</html>
