<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>全端部署架構與技術演進全紀錄 - 外語書商城</title>
  <style>
    :root { --primary: #6c5ce7; --secondary: #a29bfe; --success: #00b894; --bg: #f4f7f9; --text: #2d3436; --accent: #ff9800; }
    body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; line-height: 1.6; color: var(--text); max-width: 1100px; margin: 0 auto; padding: 20px; background-color: var(--bg); }
    header { background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white; padding: 50px 20px; text-align: center; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(108, 92, 231, 0.2); }
    .container { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }

    nav.toc { background: #fff; padding: 20px; border-radius: 12px; border: 1px solid #ddd; margin-bottom: 30px; }
    nav.toc h2 { font-size: 1.2rem; margin-top: 0; border-left: 4px solid var(--primary); padding-left: 10px; }
    nav.toc ol { columns: 2; -webkit-columns: 2; -moz-columns: 2; }

    h2 { color: var(--primary); border-left: 6px solid var(--primary); padding-left: 15px; margin-top: 40px; }
    h3 { color: var(--text); margin-top: 25px; border-bottom: 1px solid #eee; padding-bottom: 10px; }

    .evolution-box { background: #f0fdf4; border: 2px dashed var(--success); padding: 25px; border-radius: 12px; margin: 30px 0; }
    .comparison-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    .comparison-table th, .comparison-table td { border: 1px solid #dfe6e9; padding: 15px; text-align: left; }
    .comparison-table th { background-color: #f9f9f9; font-weight: bold; }

    /* 部署步驟卡片 */
    .step-card { background: #fff; border-left: 5px solid var(--accent); padding: 20px; border-radius: 8px; margin: 20px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
    .step-badge { background: var(--accent); color: white; padding: 2px 10px; border-radius: 15px; font-size: 0.8em; font-weight: bold; }

    .logic-card { background: #f8f9ff; border: 1px solid #e1e4f8; padding: 20px; border-radius: 10px; margin: 20px 0; }
    .tech-tag { display: inline-block; background: var(--primary); color: white; padding: 2px 10px; border-radius: 4px; font-size: 0.85em; margin-right: 5px; }
    code { background: #ffeaa7; padding: 2px 5px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 0.9em; color: #d63031; }

    .flow-container { display: flex; justify-content: space-around; align-items: center; padding: 30px 0; text-align: center; font-weight: bold; }
    .flow-item { background: #fff; border: 2px solid var(--primary); padding: 15px; border-radius: 10px; width: 22%; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .arrow { font-size: 2em; color: var(--primary); }

    a { color: #2980b9; }
    a :visited { color: #2980b9; }
    .my_appearance { border-radius: 15px; margin: 20px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
    .footer { text-align: center; margin-top: 60px; color: #b2bec3; font-size: 0.9em; border-top: 1px solid #ddd; padding-top: 20px; }
  </style>
</head>
<body>
<div id="google-translate-box">
  <div id="google_translate_element"></div>
  <!-- Google Translate 的自動翻譯功能 -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'zh-TW',  // 頁面原語言
        includedLanguages: 'en,es,fr,de,it,zh-CN,ja,ko,th,vi,my,id,ms,ar,he,ru,tg,uk,hi,tr,pt,nl,is,fi,sv,no,ro,kk,bo,mn,la,fil,tl,el',  // 支援的翻譯語言（可擴展）
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <p>點擊上方的語言選單以切換語言</p>
</div>
<header>
  <h1>全端雲端部署與架構進化全紀錄</h1>
  <p>從外語教學靜態作品，邁向資工全端動態系統的轉職實踐</p>
</header>

<nav class="toc">
  <h2>本專案的其他內容</h2>
  <ol>
    <li><a href="index.html" target="_blank">Spring Boot 常用註解速查表</a></li>
    <li><a href="point_of_jparepository.html" target="_blank">JpaRepository 簡介</a></li>
    <li><a href="link_sharing.html" target="_blank">連結追蹤與隱私解析</a></li>
    <li><a href="html_vs_vue.html" target="_blank">HTML 與 Vue 結構差異</a></li>
    <li><a href="vue_vs_multiple_html.html" target="_blank">Vue 與多頁架構對應</a></li>
    <li><a href="how_to_connect_spring_boot_to_vue3.html" target="_blank">前後端串接完整教學</a></li>
    <li><a href="deployment_and_anchor_navigation.html" target="_blank">部署與錨點導航差異</a></li>
    <li><a href="Vue_DevTools.html" target="_blank">Vue DevTools 深度解析</a></li>
    <li><a href="entity_and_dto.html" target="_blank">Entity 與 DTO 資料流</a></li>
    <li><a href="HTTP_ERROR.html" target="_blank">HTTP 錯誤代碼說明</a></li>
    <li><a href="About_Test.html" target="_blank">軟體品質與測試規範</a></li>
  </ol>
</nav>

<div class="container">

  <section>
    <h2>一、 技術演進：從 GitHub Pages 到全端架構</h2>
    <p>過去我利用 <strong>GitHub Pages</strong> 創作了<a href="https://chrischou19990904.github.io/JLPT_N3/particle.html" target="_blank">日文教學網站</a>、<a href="https://chrischou19990904.github.io/race_distribution/why_euporean_caucasians_in_animations_where_mongolians_are_majority_are_blondes_with_blue_eyes.html" target="_blank">三大人種介紹</a>及<a href="https://chrischou19990904.github.io/weapon_realistic/" target="_blank">武器數據視覺化</a>等多項作品。本次專案則實現了從「靜態內容展示」到「動態數據管理」的技術跨越：</p>
    <div class="evolution-box">
      <div style="display: flex; justify-content: space-around; align-items: center;">
        <div style="text-align: center;">
          <span class="tech-tag" style="background: #24292e;">舊作：純前端</span><br>
          <small>GitHub Pages 託管 / 資料寫死於代碼</small>
        </div>
        <div class="arrow">➔</div>
        <div style="text-align: center;">
          <span class="tech-tag" style="background: var(--success);">本作：全端系統</span><br>
          <small>Vercel + Render + Supabase DB</small>
        </div>
      </div>
    </div>
  </section>

  <section>
    <h2>二、 雲端部署詳細實踐 (Local to Cloud)</h2>
    <p>以下是將全端應用從本地端遷移至生產環境的關鍵技術細節：</p>

    <div class="step-card">
      <span class="step-badge">STEP 1: Database</span>
      <h3>Supabase 資料庫遷移</h3>
      <p>將本地 <code>PostgreSQL</code> 結構導入雲端。透過 <code>application.properties</code> 配置 JDBC 連線，並利用 <strong>HikariCP</strong> 進行高效連線池管理。</p>
    </div>

    <div class="step-card">
      <span class="step-badge">STEP 2: Backend</span>
      <h3>Render + Docker 容器化</h3>
      <p>撰寫 <code>Dockerfile</code> 以確保 JDK 17 環境一致性。將 <code>.jar</code> 封裝後，在 Render 平台設定<strong>環境變數</strong>（如 <code>SPRING_DATASOURCE_URL</code>），達成配置與程式碼分離。</p>
    </div>

    <div class="step-card">
      <span class="step-badge">STEP 3: Frontend</span>
      <h3>Vercel + Vue 3 部署</h3>
      <p>利用 Vercel 託管靜態資源，並設定 <code>vercel.json</code> 的 <strong>Rewrites</strong> 規則以解決 Vue Router History Mode 導致的 404 問題。</p>
    </div>
  </section>

  <section>
    <h2>三、 雲端通訊架構圖</h2>
    <div class="flow-container">
      <div class="flow-item" style="border-color: #0984e3;">Vercel<br><small>Vue 3 Frontend</small></div>
      <div class="arrow">➔</div>
      <div class="flow-item" style="border-color: var(--success);">Render<br><small>Spring Boot API</small></div>
      <div class="arrow">➔</div>
      <div class="flow-item" style="border-color: #3ecf8e;">Supabase<br><small>PostgreSQL DB</small></div>
    </div>

  </section>

  <section>
    <h2>四、 核心安全性配置</h2>
    <div class="logic-card">
      <h3>1. 精確跨域控制 (CORS)</h3>
      <p>在 <code>SecurityConfig</code> 中精確放行 Vercel 網域，並將 <code>HttpMethod.OPTIONS</code> 設為最優先，確保瀏覽器預檢請求通過。</p>
    </div>
    <div class="logic-card">
      <h3>2. JWT 無狀態認證</h3>
      <p>實踐 <code>Stateless</code> 認證機制，讓使用者狀態由 JWT 承載，解決雲端重啟導致的 Session 遺失問題。</p>
    </div>
  </section>
  <section>
    <h2>五、 託管平台功能深度對比：為何選擇多雲架構？</h2>
    <p>在資工專案開發中，理解不同平台的底層能力是架構設計的關鍵。以下彙整了 GitHub Pages 與全端託管平台（Vercel / Render）的核心差異：</p>

    <table class="comparison-table">
      <thead>
      <tr>
        <th>特性 / 平台</th>
        <th>GitHub Pages</th>
        <th>Vercel</th>
        <th>Render / Supabase</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td><strong>託管類型</strong></td>
        <td>靜態網頁 (Static)</td>
        <td>現代前端 (SPA/SSR)</td>
        <td>動態後端 & 資料庫</td>
      </tr>
      <tr>
        <td><strong>支援語言</strong></td>
        <td>純 HTML, CSS, JS</td>
        <td>Vue, React, Node.js</td>
        <td>Java (Spring Boot), Python, SQL</td>
      </tr>
      <tr>
        <td><strong>後端程式執行</strong></td>
        <td><span style="color: #e74c3c;">❌ 不支援 (無 JVM)</span></td>
        <td><span style="color: #f39c12;">△ 僅支援 Serverless</span></td>
        <td><span style="color: #27ae60;">✅ 完整支援 (Docker/JDK)</span></td>
      </tr>
      <tr>
        <td><strong>資料庫連線</strong></td>
        <td><span style="color: #e74c3c;">❌ 無法連接</span></td>
        <td><span style="color: #f39c12;">△ 需透過 API</span></td>
        <td><span style="color: #27ae60;">✅ 原生支援 (JDBC/Pool)</span></td>
      </tr>
      <tr>
        <td><strong>環境變數隱私</strong></td>
        <td><span style="color: #e74c3c;">❌ 低 (代碼全公開)</span></td>
        <td><span style="color: #27ae60;">✅ 高 (加密注入)</span></td>
        <td><span style="color: #27ae60;">✅ 高 (伺服器端隔離)</span></td>
      </tr>
      <tr>
        <td><strong>本專案定位</strong></td>
        <td>存放技術手冊與說明文件</td>
        <td>運行 Vue 3 前端使用者介面</td>
        <td>執行商業邏輯與數據持久化</td>
      </tr>
      </tbody>
    </table>

    <div class="logic-card" style="border-top: 4px solid var(--success);">
      <strong>大師觀點：</strong>
      GitHub Pages 雖然優秀，但本質上是一個檔案伺服器，無法運行需要運算能力的 Spring Boot 或是需要儲存狀態的 PostgreSQL。
      透過 <strong>Vercel (前端) + Render (後端) + Supabase (資料庫)</strong> 的組合，我們才真正實現了具備「大腦」與「記憶」的全端應用。
    </div>
  </section>
  <section>
    <h2>六、 結語：跨領域的技術融合</h2>
    <p>這份專案代表了我從嘉大外語系對內容的感性堅持，到逢甲資工系對邏輯與架構的理性追求。我成功建立了一個具備生產等級安全性、高效運行的外語書籍電商生態系。</p>
  </section>
</div>

<div id="social-share" style="margin: 20px 0; text-align: center;">
  <strong>分享此技術文件：</strong>
  <a id="fb-share" href="#" target="_blank" style="color: #4267B2;">Facebook</a> |
  <a id="line-share" href="#" target="_blank" style="color: #00C300;">Line</a> |
  <a id="twitter-share" href="#" target="_blank" style="color: #1DA1F2;">X (Twitter)</a>
</div>

<div style="text-align: center; margin-bottom: 30px;">
  <p>作者：<a href="https://www.facebook.com/profile.php?id=100056441813114" target="_blank">周彥廷</a></p>
  <p>創作日期：西元2025年12月30日</p>
  <img class="my_appearance" width="300" src="my_appearance2.jpg" alt="開發者自拍">
</div>

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v17.0"></script>
<div class="fb-comments" data-href="https://chrischou19990904.github.io/harp_app_introduction" data-width="100%" data-numposts="5"></div>

<script>
  var currentUrl = window.location.href;
  document.getElementById("fb-share").href = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(currentUrl);
  document.getElementById("line-share").href = "https://social-plugins.line.me/lineit/share?url=" + encodeURIComponent(currentUrl);
  document.getElementById("twitter-share").href = "https://twitter.com/intent/tweet?url=" + encodeURIComponent(currentUrl) + "&text=全端部署架構技術全紀錄";
</script>

<div class="footer">
  <p>逢甲大學資工系學士後專班 - 期末專案技術手冊</p>
  <p>技術棧：Spring Boot / Vue 3 / Supabase / Docker / Vercel</p>
</div>

</body>
</html>